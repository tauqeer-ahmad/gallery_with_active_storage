<%- model_class = Gallery -%>
<div class="page-header">
  <h1><%=t '.title', default: model_class.model_name.human.titleize %></h1>
</div>

<div class="fieldset">
  <dl>
      <dt class="label label-default"><%= model_class.human_attribute_name(:title) %></dt>
      <dd><pre class="prettyprint"><%= @gallery.title %></pre></dd>
      <dt class="label label-default"> Owner</dt>
      <dd><pre class="prettyprint"><%= @gallery.owner %></pre></dd>
  </dl>
</div>


  <% @gallery.pictures.each do |picture| %>
    <div class="col-md-4">
      <div class="thumbnail">
        <% if picture.previewable? %>
          <%= link_to(image_tag(attachment.preview(resize: "400x400")),  rails_blob_path(picture, disposition: "attachment"))
          %>
        <% elsif picture.variable? %>
          <%= link_to(image_tag(picture.variant(resize: "400x400")), rails_blob_path(picture, disposition: "attachment"))%>
        <% else %>
          <%= link_to "Download file", rails_blob_path(picture, disposition: "attachment") %>
        <% end %>
        <div class="caption">
          <%= link_to destroy_picture_gallery_path(picture), method: :delete, data: { confirm: 'Are you sure?' }, class: 'btn btn-danger btn-sm' do %>
            <i class="glyphicon glyphicon-trash"></i>
          <% end %>
        </div>
      </div>
    </div>
  <% end %>

<div class="form-group">
  <%= link_to t('.back', default: t("helpers.links.back")),
              galleries_path, class: 'btn btn-default'  %>
  <%= link_to t('.edit', default: t("helpers.links.edit")),
              edit_gallery_path(@gallery), class: 'btn btn-default' %>
  <%= link_to t('.destroy', default: t("helpers.links.destroy")),
              gallery_path(@gallery),
              method: 'delete',
              data: { confirm: t('.confirm', default: t("helpers.links.confirm", default: 'Are you sure?')) },
              class: 'btn btn-danger' %>
</div>
